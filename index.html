<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zabudo.pl - Wszystko zaczyna się od marzenia</title>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Zabudo.pl",
    "description": "Budynki gospodarcze na wymiar – hale stalowe, wiaty, garaże blaszane, konstrukcje rolnicze. Montaż Śląsk i Małopolska.",
    "url": "https://www.zabudo.pl",
    "telephone": "+48503702467",
    "email": "adam@zabudo.pl",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "ul. Parkowa 20",
      "addressLocality": "Siewierz",
      "addressRegion": "Śląskie",
      "postalCode": "42-470",
      "addressCountry": "PL"
    },
    "areaServed": ["Śląsk", "Małopolska", "Siewierz", "Zawiercie", "Myszków", "Łazy", "Poręba", "Żarki", "Koziegłowy", "Ożarowice", "Wojkowice Kościelne"],
    "openingHours": "Mo-Fr 08:00-16:00",
    "sameAs": []
  }
  </script>

  <!-- Meta -->
  <meta name="description" content="Wyznaczamy standardy w budownictwie. Szybka realizacja, montaż i atrakcyjne ceny.">
  <meta name="keywords" content="budynki gospodarcze, domki letniskowe, wiaty, altany, konstrukcje drewniane, Śląsk, Małopolska, Siewierz, budowa, montaż, solidne budynki, na wymiar, blaszaki, Zabudo.pl">
  <meta name="author" content="Zabudo.pl">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="Zabudo.pl | Wszystko zaczyna się od marzenia">
  <meta property="og:description" content="Budowa i montaż budynków gospodarczych dopasowanych do Twoich potrzeb. Działamy na Śląsku i w Małopolsce.">
  <meta property="og:image" content="tlo.webp">
  <meta property="og:url" content="https://www.zabudo.pl">

  <!-- Fonts & CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">
</head>















<body>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const nav  = document.querySelector('#navbar');
  const hero = document.querySelector('#hero');
  if (!nav || !hero) return;

  const calcThreshold = () =>
    (hero.offsetTop + hero.offsetHeight * 0.5) - nav.offsetHeight; // połowa hero, skorygowana o wysokość nav

  let threshold = calcThreshold();

  const update = () => {
    threshold = calcThreshold(); // na wypadek zmian rozmiaru
    const pastHalf = window.scrollY >= threshold;
    nav.classList.toggle('white', pastHalf);
  };

  window.addEventListener('scroll', update, { passive: true });
  window.addEventListener('resize', update);
  window.addEventListener('load', update);
  update();

  // klik w przycisk -> od razu „white”
  document.getElementById('scrollToDimensions')?.addEventListener('click', () => {
    nav.classList.add('white');
  });
});
</script>


  <!-- Navigation -->
  <nav id="navbar" class="navbar navbar-expand-lg fixed-top">
    <div class="container">
     <a href="#"> <img id="ikonazab" src="logo_zabudo_white.webp" alt="Logo białe"   /></a>
      <a href="#"> <img id="ikonablack" src="logo_zabudo_black.webp" alt="Logo czarne"  /></a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div>

      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
 
           <li class="nav-item"><a class="nav-link onasdesk" href="#advantages">O nas</a></li>
            <li class="nav-item"><a class="nav-link onasmob" href="#advantages-mobilne">O nas</a></li>
          <li class="nav-item"><a class="nav-link" href="#oferta">Oferta</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Kontakt</a></li>
          <li class="nav-item"><a class="nav-link" href="#blog">Blog</a></li>
        </ul>
      </div>
    </div>
  </nav>




  <!-- Rotacja tła hero -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const hero = document.getElementById('hero');
  if (!hero) return;

  // Twoja lista obrazów (podaj pełne ścieżki względne/absolutne)
  const images = ['tlo2.webp','tlo1.webp','tlo3.webp','tlo5.webp'];

  let index = 0;
  let timer = null;

  // Preload jednego obrazka i dopiero wtedy podmiana tła
  const preload = (url) => new Promise((resolve) => {
    const img = new Image();
    img.fetchPriority = 'low';           // nie blokuj LCP
    img.src = url;
    if (img.decode) {
      img.decode().then(resolve).catch(resolve);
    } else {
      img.onload = img.onerror = resolve;
    }
  });

  const swap = async () => {
    const nextUrl = images[(index + 1) % images.length];
    await preload(nextUrl);                              // dociągnij dopiero teraz
    index = (index + 1) % images.length;
    hero.style.backgroundImage = `url("${images[index]}")`;
    timer = setTimeout(swap, 6000);                     // następna rotacja
  };

  // Zacznij dopiero, gdy hero jest blisko widoku (lazy start)
  const io = new IntersectionObserver(async ([entry], obs) => {
    if (!entry.isIntersecting) return;
    obs.disconnect();

    await preload(images[0]);                           // pierwszy obraz „na żądanie”
    hero.style.backgroundImage = `url("${images[0]}")`;
    timer = setTimeout(swap, 6000);
  }, { rootMargin: '200px 0px' });                      // prefetch ~200px przed wejściem

  io.observe(hero);

  // Oszczędzaj transfer: pauzuj w tle, wznawiaj na powrót
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      clearTimeout(timer);
      timer = null;
    } else if (!timer) {
      timer = setTimeout(swap, 6000);
    }
  });
});
</script>


  <!-- Hero -->
  <section id="hero" class="text-center d-flex">

    <div class="container hero-content">
      <h1>Wszystko zaczyna się od marzenia</h1>
      <p>Budujemy wiaty, garaże i domki letniskowe, tworząc inwestycje, które przeniosą Twój biznes i Twoje życie na wyższy poziom.</p>
      <a href="#advantages" id="scrollToDimensions" class="btn btn-primary btn-desktop">Dowiedz się, dlaczego jesteśmy najlepsi</a>
            <a href="#advantages-mobilne" id="scrollToDimensions" class="btn btn-primary btn-mobilne">Dowiedz się, dlaczego jesteśmy najlepsi</a>
    </div>


   <!-- Ikony - zalety -->
  <div class="py-5 advantages-desktop" id="advantages">
    <div class="container">
      <h2 class="text-center mb-4 zalety-tytuł">Dlaczego Zabudo?</h2>
      <div class="row g-4">
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-helmet-safety fa-3x ikona-zalety text-primary mb-3"></i>
        <h5>Świeże spojrzenie</h5>
          <p>Łączymy nowoczesne pomysły z praktycznym podejściem – zawsze szukamy najlepszego rozwiązania dla Ciebie.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-building fa-3x ikona-zalety text-primary mb-3"></i>
            <h5>Prostota</h5>
          <p>Od konfiguracji po montaż – cały proces jest jasny i uporządkowany, bez zbędnych komplikacji.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-users fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Indywidualne podejście</h5>
          <p>Każdy projekt dopasowujemy do potrzeb i marzeń naszych klientów.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-star fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Jakość bez kompromisów</h5>
          <p>Korzystamy z najlepszych materiałów i sprawdzonych technologii.</p>
        </div>
      </div>
    </div>
  </div>


  </section>

   <!-- Ikony - zalety - mobilne -->
  <div class="py-5 advantages-mobilne" id="advantages-mobilne">
    <div class="container">
      <h2 class="text-center mb-4 zalety-tytuł">Dlaczego Zabudo?</h2>
      <div class="row g-4">
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-helmet-safety fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Świeże spojrzenie</h5>
          <p>Łączymy nowoczesne pomysły z praktycznym podejściem – zawsze szukamy najlepszego rozwiązania dla Ciebie.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-building fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Prostota</h5>
          <p>Od konfiguracji po montaż – cały proces jest jasny i uporządkowany, bez zbędnych komplikacji.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-users fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Indywidualne podejście</h5>
          <p>Każdy projekt dopasowujemy do potrzeb i marzeń naszych klientów.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-star fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Jakość bez kompromisów</h5>
          <p>Korzystamy z najlepszych materiałów i sprawdzonych technologii.</p>
        </div>
      </div>
    </div>
  </div>


  <!-- Proces section -->
  <section class="py-5 bg-light" id="proces">
    <div class="container">
      <h2 class="text-center mb-4 zalety-tytuł">Nasz proces</h2>
      <div class="row g-4">
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-comments fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Konsultacja</h5>
          <p>Rozmawiamy z Tobą, aby zrozumieć potrzeby i stworzyć wstępną koncepcję inwestycji.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-drafting-compass fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Projekt</h5>
          <p>Przygotowujemy szczegółowy projekt dopasowany do Twojej działki oraz budżetu.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-hammer fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Produkcja</h5>
          <p>W naszym zakładzie powstają prefabrykaty, które następnie montujemy na miejscu.</p>
        </div>
        <div class="col-md-3 text-center">
          <i class="fa-solid fa-truck fa-3x ikona-zalety text-primary mb-3"></i>
          <h5>Dostawa i montaż</h5>
          <p>Transportujemy gotowe elementy i sprawnie montujemy budynek w umówionym terminie.</p>
        </div>
      </div>
    </div>
  </section>



<div id="oferta" class="oferta">

<div class="menuoferta">
  <button class="sklep" data-target="sklep">SKLEP</button>
  <button class="usługi pokazane" data-target="usługi">USŁUGI</button>
</div>


  <div id="sklep" class="panel"> 
    
<div class="sklepkarta1">

    <a href="drapaki.html" class="sklepkarta">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="drapak2.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="drapak1.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="drapak2.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="drapak1.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Drapaki</h1>
      <p class="sklepkarta1-opis">Najwyższej jakości drapak Twojego kota</p>
        </div>


    </a>

 <a href="" class="sklepkarta">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="budamarzen2.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="buda3.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="Buda11.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Budy</h1>
      <p class="sklepkarta1-opis">Starannie ocieplony dom Twojego psa</p>
        </div>


    </a>

     <a href="" class="sklepkarta">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Już wkrótce</h1>
      <p class="sklepkarta1-opis"></p>
        </div>


    </a>

     <a href="" class="sklepkarta">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Już wkrótce</h1>
      <p class="sklepkarta1-opis"></p>
        </div>


    </a>


</div>



<div class="sklepkarta2">

  <div class="galeria-produktów">

      <div class="sklepkarta2-obrazy">

        <img class="sklepkarta2-obrazy-obraz" src="budamarzen2.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="drapak1.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="drapak2.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

  </div>

</div>

  </div>



   <div id="usługi" class="panel pokazane">
    


<div class="sklepkarta2">

  <div class="galeria-produktów">

      <div class="sklepkarta2-obrazy">

        <img class="sklepkarta2-obrazy-obraz" src="budynek1.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="budynek2.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="budynek3.webp" loading="lazy">
        <img class="sklepkarta2-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

  </div>

</div>

<div class="sklepkarta1">
  <h1>Nasza oferta</h1>

    <a href="garaż.html" class="sklepkarta">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="garaż1.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="garaż2.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="garaż3.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="garaż4.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Garaż</h1>
      <p class="sklepkarta1-opis">Bezpieczne miejsce na Twój samochód</p>
        </div>


    </a>

 <a href="" class="sklepkarta" style="opacity: 0;">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="budynek3.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="budynek4.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="budynek1.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Domek letniskowy</h1>
      <p class="sklepkarta1-opis">Odporny na zmienne warunki atmosferyczne</p>
        </div>


    </a>

     <a href="" class="sklepkarta" style="opacity: 0;">

      <div class="sklepkarta1-obrazy" >

        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Już wkrótce</h1>
      <p class="sklepkarta1-opis"></p>
        </div>


    </a>

     <a href="" class="sklepkarta" style="opacity: 0;">

      <div class="sklepkarta1-obrazy">

        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">
        <img class="sklepkarta1-obrazy-obraz" src="plakat.webp" loading="lazy">

      </div>

      <div class="sklepkarta1-tekst">
      <h1 class="sklepkarta1-tytuł">Już wkrótce</h1>
      <p class="sklepkarta1-opis"></p>
        </div>


    </a>


</div>





  </div>


<script>
document.querySelectorAll('.sklepkarta1-obrazy').forEach(c => {
  const imgs = c.querySelectorAll('img'); if (imgs.length < 2) return;
  imgs.forEach((im, k) => im.style.opacity = k ? 0 : 1);
  let i = 0;
  setInterval(() => {
    imgs[i].style.opacity = 0;
    i = (i + 1) % imgs.length;
    imgs[i].style.opacity = 1;
  }, 5000); // co 3s
});
</script>
<script>
document.querySelectorAll('.sklepkarta2-obrazy').forEach(c => {
  const imgs = c.querySelectorAll('img'); if (imgs.length < 2) return;
  imgs.forEach((im, k) => im.style.opacity = k ? 0 : 1);
  let i = 0;
  setInterval(() => {
    imgs[i].style.opacity = 0;
    i = (i + 1) % imgs.length;
    imgs[i].style.opacity = 1;
  }, 5000); // co 3s
});
</script>


 
  
    

  



<script>
// 1) Bierzemy TYLKO przyciski z górnego menu oferty:
const tabButtons = document.querySelectorAll('.menuoferta [data-target]');
// 2) Te dwa panele (SKLEP i USŁUGI) mają klasę .panel
const panels = document.querySelectorAll('.panel');

// Pomocniczo: zbuduj selektor z #, jeśli ktoś zapomniał go wstawić w HTML
function targetSelectorFrom(btn) {
  const t = btn.dataset.target || '';
  return t.startsWith('#') ? t : ('#' + t);
}

function clearShown() {
  tabButtons.forEach(b => b.classList.remove('pokazane'));
  panels.forEach(p => p.classList.remove('pokazane'));
}

tabButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    const targetSelector = targetSelectorFrom(btn); // "#sklep" lub "#usługi"
    const targetPanel = document.querySelector(targetSelector);
    if (!targetPanel) return;

    clearShown();
    btn.classList.add('pokazane');
    targetPanel.classList.add('pokazane');
  });
});

// (opcjonalnie) ustaw stan startowy: pokaż USŁUGI
// document.querySelector('.menuoferta [data-target="usługi"]')?.click();
</script>




<script>
(() => {
  const scope     = document.getElementById('container5');
  const lightbox  = document.getElementById('dog-lightbox');
  const mainImg   = document.getElementById('dog-lightbox-main-img');
  const thumbsBox = document.getElementById('dog-lightbox-thumbs');
  const closeX    = lightbox.querySelector('.dog-lightbox-close');
  const content   = lightbox.querySelector('.dog-lightbox-content'); // << ważne

  // upewnij się, że lightbox jest nad wszystkim i poza #container5 (najlepiej bezpośrednio w <body>)
  lightbox.style.zIndex = '9999';
  lightbox.style.display = 'none';
  lightbox.style.position = 'fixed';

  let gallery = [];
  let idx = 0;

  const toAbs = (src) => new URL(src, location.href).href;

  const parseGallery = (el) => {
    const raw = el.getAttribute('data-gallery');
    if (!raw) return null;
    try { const j = JSON.parse(raw); if (Array.isArray(j)) return j.map(toAbs); } catch(_) {}
    return raw.split(',').map(s => s.trim()).filter(Boolean).map(toAbs);
  };

  const collectFromCard = (imgEl) => {
    const card = imgEl.closest('.card');
    if (!card) return [toAbs(imgEl.currentSrc || imgEl.src)];
    const imgs = card.querySelectorAll('.carousel-inner img');
    const list = [...imgs].map(i => toAbs(i.currentSrc || i.src));
    return list.length ? Array.from(new Set(list)) : [toAbs(imgEl.currentSrc || imgEl.src)];
  };

  const setActive = (i) => {
    idx = i;
    mainImg.src = gallery[idx];
    [...thumbsBox.children].forEach((t, k) => t.classList.toggle('active', k === idx));
  };

  const renderThumbs = () => {
    thumbsBox.innerHTML = '';
    gallery.forEach((src, i) => {
      const t = document.createElement('img');
      t.src = src; t.alt = 'miniatura';
      if (i === idx) t.classList.add('active');
      t.onclick = (e) => { e.stopPropagation(); setActive(i); }; // << zatrzymaj bubbling
      thumbsBox.appendChild(t);
    });
  };

  const open = (arr, start = 0) => {
    gallery = arr; idx = Math.max(0, Math.min(start, gallery.length - 1));
    renderThumbs(); setActive(idx);
    lightbox.style.display = 'flex';
    document.documentElement.style.overflow = 'hidden';
  };

  const close = () => {
    lightbox.style.display = 'none';
    mainImg.src = ''; thumbsBox.innerHTML = '';
    gallery = []; idx = 0;
    document.documentElement.style.overflow = '';
  };

  // Klik w IMG tylko w #container5
  scope.addEventListener('click', (e) => {
    const img = e.target.closest('img');
    if (!img || !scope.contains(img)) return;

    let arr = parseGallery(img);
    if (!arr || arr.length === 0) arr = collectFromCard(img);

    const clicked = toAbs(img.currentSrc || img.src);
    const start = Math.max(0, arr.indexOf(clicked));
    open(arr, start);
  });

  // Zamknięcia
  closeX.addEventListener('click', (e) => { e.stopPropagation(); close(); });

  // Klik w TŁO zamyka, ale…
  lightbox.addEventListener('click', () => close());

  // …klik wewnątrz zawartości NIE leci wyżej (nie zamyka i nie odpala burgera)
  if (content) content.addEventListener('click', (e) => e.stopPropagation());

  document.addEventListener('keydown', (e) => {
    if (lightbox.style.display === 'none') return;
    if (e.key === 'Escape') close();
    if (e.key === 'ArrowRight' && gallery.length > 1) setActive((idx + 1) % gallery.length);
    if (e.key === 'ArrowLeft'  && gallery.length > 1) setActive((idx - 1 + gallery.length) % gallery.length);
  });
})();
</script>

  


<!-- Contact -->
<section id="contact" class="full-screen-section d-flex align-items-center justify-content-center text-center">
  <div class="container" style="max-width: 600px;">
    <h2 class="section-title">Skontaktuj się z nami</h2>

    <div class="footer-description">
      <p>Telefon: <a href="tel:+48503702467">+48 503 702 467</a> | <a href="tel:+48500156450">+48 500 156 450</a></p>
      <p>Email: <a href="mailto:adam@zabudo.pl">adam@zabudo.pl</a></p>
    </div>

    <!-- Formularz kontaktowy -->
    <form id="contact-form" method="POST" action="/api/contact" novalidate>
      <div class="mb-2">
        <input type="text" name="user_name" placeholder="Imię i nazwisko" class="form-control" required />
      </div>
      <div class="mb-2">
        <input type="email" name="user_email" placeholder="Adres e-mail" class="form-control" required />
      </div>
      <div class="mb-2">
        <textarea id="message" name="message" rows="6" class="form-control" required>
Dzień dobry! Interesuje mnie budynek o wymiarach 3.5 x 5.5 m na terenie (wpisz miejscowość). Proszę o jak najszybszą odpowiedź.
        </textarea>
      </div>

      <!-- Turnstile (Captcha) -->
      <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
      <div class="cf-turnstile"
           data-sitekey="0x4AAAAAAB5Dri7HbhagljpE"
           data-theme="light"
           data-language="pl"></div>

      <button type="submit" class="btn btn-primary">Wyślij wiadomość</button>
      <a href="tel:+48503702467" class="btn btn-primary">Zadzwoń teraz!</a>
    </form>

    <p id="form-message" style="margin-top: 10px;"></p>
  </div>
</section>


 <!-- OBSŁUGO FORMULARZA EMAIL -->


<script>


(function() {
  const SERVICE_ENDPOINT = '/api/contact'; // to samo co action w <form>

  function addHidden(form, name, value) {
    let input = form.querySelector('input[name="'+name+'"]');
    if (!input) {
      input = document.createElement('input');
      input.type = 'hidden';
      input.name = name;
      form.appendChild(input);
    }
    input.value = value;
  }

  // —— zbierz konfigurację budynku (wykorzystuje Twoje funkcje, jeśli są) ——
  function appendBuildConfigurationToMessage(form) {
    try {
      const messageField = form.querySelector('textarea[name="message"]');
      if (!messageField) return;

      const build = (typeof collectActiveBuildConfig === 'function') ? collectActiveBuildConfig() : null;
      const services = (typeof collectServicesConfig === 'function') ? collectServicesConfig(document) : [];

      const lines = [];
      if (build) {
        if (build.buildType) lines.push(`Typ: ${build.buildType}`);
        if (Number.isFinite(build.width) && Number.isFinite(build.length)) {
          lines.push(`Wymiary: ${build.width.toFixed(1)} × ${build.length.toFixed(1)} m`);
        }
        if (Number.isFinite(build.height_eave)) lines.push(`Wysokość (najniższy pkt): ${build.height_eave.toFixed(1)} m`);
        if (Number.isFinite(build.height_peak)) lines.push(`Wysokość (najwyższy pkt): ${build.height_peak.toFixed(1)} m`);
        if (build.shownPrice) lines.push(`Szacunkowa cena: ${build.shownPrice}`);
      }
      if (Array.isArray(services) && services.length) {
        services.forEach(s => {
          const label = s?.selected?.label || '(brak wyboru)';
          const group = s?.group || 'Opcja';
          lines.push(`${group}: ${label}`);
        });
      }

      if (lines.length) {
        const konfTxt =
          '\n\nPełna konfiguracja budynku:\n' +
          lines.map(l => `• ${l}`).join('\n');

        const baseMsg = messageField.value || '';
        const marker = '(wpisz miejscowość)';

        if (baseMsg.includes(marker)) {
          const pos = baseMsg.indexOf(marker) + marker.length;
          messageField.value = baseMsg.slice(0, pos) + konfTxt + baseMsg.slice(pos);
        } else {
          messageField.value = baseMsg.replace(/\s+$/,'') + konfTxt;
        }
      }
    } catch (err) {
      console.warn('Nie udało się dołączyć konfiguracji do wiadomości:', err);
    }
  }

  // —— dopnij zgody z localStorage ——
  function appendConsents(form) {
    // newsletter
    let newsletterConsent = 'NIE', newsletterTs = '', newsletterSource = '';
    try {
      const meta = JSON.parse(localStorage.getItem('newsletterConsentMeta') || '{}');
      if (meta?.consent) {
        newsletterConsent = 'TAK';
        newsletterTs = meta.ts || '';
        newsletterSource = meta.source || '';
      }
    } catch (e) {}

    let cookiesConsent = 'NIE';
    try {
      const cons = JSON.parse(localStorage.getItem('consents') || '{}');
      cookiesConsent = cons.cookies ? 'TAK' : 'NIE';
    } catch (e) {}

    addHidden(form, 'newsletter_consent', newsletterConsent);
    addHidden(form, 'newsletter_consent_ts', newsletterTs);
    addHidden(form, 'newsletter_consent_source', newsletterSource);
    addHidden(form, 'consent_cookies', cookiesConsent);
  }

  // —— obsługa submitu ——
  function wireContactForm(form, msgEl) {
    if (!form) return;
    const msg = msgEl || document.getElementById('form-message');

    if (form.__wired__) return;
    form.__wired__ = true;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // 1) UX: sprawdź lokalnie token Turnstile (backend i tak sprawdzi jeszcze raz)
      const tokenInput = form.querySelector('input[name="cf-turnstile-response"]');
      if (!tokenInput || !tokenInput.value) {
        if (msg) { msg.textContent = 'Zaznacz zabezpieczenie (captcha).'; msg.style.color = 'red'; }
        return;
      }

      // 2) dopnij zgody + konfigurację
      appendConsents(form);
      appendBuildConfigurationToMessage(form);

      // 3) spinner
      const btn = form.querySelector('button[type="submit"]');
      const original = btn ? btn.innerHTML : '';
      if (btn) { btn.disabled = true; btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Wysyłam…'; }

      // 4) fetch do backendu (FormData)
      try {
        const fd = new FormData(form);
        const resp = await fetch(SERVICE_ENDPOINT, {
          method: 'POST',
          body: fd,
          headers: { 'X-Requested-With': 'XMLHttpRequest' }
        });

        let json = {};
        try { json = await resp.json(); } catch(_) {}

        if (!resp.ok || json.ok === false) {
          if (msg) { msg.textContent = 'Nie udało się wysłać. Sprawdź dane i captcha.'; msg.style.color = 'red'; }
        } else {
          if (msg) { msg.textContent = 'Dziękujemy! Wiadomość wysłana.'; msg.style.color = 'green'; }
          form.reset();
          // zresetuj Turnstile po sukcesie
          if (window.turnstile) turnstile.reset();
        }
      } catch (err) {
        if (msg) { msg.textContent = 'Błąd sieci/serwera. Spróbuj ponownie.'; msg.style.color = 'red'; }
      } finally {
        if (btn) { btn.disabled = false; btn.innerHTML = original; }
      }
    });
  }

  // — init —
  document.addEventListener('DOMContentLoaded', function () {
    const pageForm = document.getElementById('contact-form');
    const pageMsg  = document.getElementById('form-message');
    if (pageForm) wireContactForm(pageForm, pageMsg);
  });
})();
</script>











<!-- Testimonials section (moved to follow the offer) -->
  <section class="py-5" id="opinie">
    <div class="container">
      <h2 class="text-center mb-4">Opinie naszych klientów</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <i class="fa-solid fa-quote-left ikona-zalety fa-2x text-primary mb-3"></i>
              <p class="card-text">"Zabudo to profesjonaliści! Mój garaż stanął w trzy tygodnie, a jakość wykonania przerosła moje oczekiwania. Polecam w 100%!"</p>
              <h6 class="card-subtitle text-muted mt-3">Jan, Brzeszcze</h6>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <i class="fa-solid fa-quote-left fa-2x ikona-zalety text-primary mb-3"></i>
              <p class="card-text">"Narzędziówka, którą wybudowali, jest solidna i nowoczesna. Zabudo jest naprawdę bezkonkurencyjne w swoim fachu – pełen profesjonalizm!"</p>
              <h6 class="card-subtitle text-muted mt-3">Anna, Oświęcim</h6>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <i class="fa-solid fa-quote-left fa-2x ikona-zalety text-primary mb-3"></i>
              <p class="card-text">"Od pierwszej rozmowy do montażu minął zaledwie miesiąc, a domek letniskowy przerósł nasze marzenia. Świetna jakość i obsługa klienta na najwyższym poziomie."</p>
              <h6 class="card-subtitle text-muted mt-3">Piotr, Kraków</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


<!-- Blog section -->
  <section class="py-5" id="blog">
    <div class="container">
      <h2 class="text-center mb-4">Blog</h2>
      <div class="row g-4">
        <div class="col-md-6">
          <div class="card h-100">
            <img src="bud5dni.webp" class="card-img-top" alt="Budowa narzędziówki w 5 dni – solidny budynek gospodarczy z ociepleniem" loading="lazy">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">Budowa narzędziówki w 5 dni – solidny budynek gospodarczy z ociepleniem</h5>
              <p class="card-text">Budynki gospodarcze na wymiar to nasza specjalność. W zaledwie pięć dni wykonaliśmy kompletną narzędziówkę z ociepleniem, która będzie służyć właścicielowi przez długie lata.</p>
              <a href="blog.html" class="btn-blog btn btn-outline-primary mt-auto">Czytaj więcej</a>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card h-100">
            <img src="blog1.webp" class="card-img-top" alt="Budynki gospodarcze – 7 cech idealnej konstrukcji" loading="lazy">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">7 cech, które powinien posiadać solidny budynek gospodarczy</h5>
              <p class="card-text">Budynki gospodarcze na Śląsku i w Małopolsce cieszą się ogromną popularnością. Wybierając idealny projekt, warto zwrócić uwagę na konkretne cechy, które zapewnią trwałość, funkcjonalność i bezpieczeństwo.</p>
              <a href="blog.html" class="btn-blog btn btn-outline-primary mt-auto">Czytaj więcej</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Gallery -->
  <section id="gallery">
    <div class="container">
      <h2 class="section-title">Galeria realizacji</h2>
      <div id="galleryCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active"><img src="n1.webp" class="d-block w-100" alt="Zdjęcie 1"></div>
          <div class="carousel-item"><img src="n2.webp" class="d-block w-100" alt="Zdjęcie 2"></div>
          <div class="carousel-item"><img src="3.webp" class="d-block w-100" alt="Zdjęcie 3"></div>
          <div class="carousel-item"><img src="n3.webp" class="d-block w-100" alt="Zdjęcie 4"></div>
                    <div class="carousel-item"><img src="n4.webp" class="d-block w-100" alt="Zdjęcie 4"></div>

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </section>










  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; <span id="year"></span> Zabudo.pl</p>
              <p>NIP: 6252502129 | KRS: 0001194079</p>
      <div class="footer-description">
        <p>Telefon: <a href="tel:+48503702467">+48 503 702 467</a> | <a href="tel:+48500156450">+48 500 156 450</a></p>
        <p>Email: <a href="mailto:adam@zabudo.pl">adam@zabudo.pl</a></p>
        <a href="polityka-prywatności.html">Polityka prywatności</a> | <a href="regulamin-sprzedaży.html">Regulamin sprzedaży</a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>



  



  <!-- Twój główny skrypt (jeśli używasz) -->
  <script src="script.js"></script>



  <!-- Auto-karuzela galerii -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const myCarousel = document.querySelector('#galleryCarousel');
    if (myCarousel) {
      new bootstrap.Carousel(myCarousel, { interval: 3000, ride: 'carousel' });
    }
  });
  </script>

  <!-- BANER ZGÓD: HTML -->
  <div id="cookie-banner" class="text-center" style="display:none;">
    Ta strona korzysta z plików cookies w celach statystycznych i funkcjonalnych.
    <br>Możesz zaakceptować lub opuścić stronę, jeśli się nie zgadzasz.

    <div class="mt-3 text-start" style="max-width: 420px; margin: 0 auto;">
      <label><input type="checkbox" id="consent-cookies"> Zgadzam się na pliki cookies</label><br>
      <label><input type="checkbox" id="consent-newsletter"> Zgadzam się na otrzymywanie newslettera</label>
    </div>

    <div class="mt-3">
      <button id="accept-all" class="btn btn-success btn-sm me-2">✅ Zaakceptuj wszystkie</button>
      <button id="accept-cookies" class="btn btn-outline-secondary btn-sm">Zapisz wybór</button>
    </div>

    <!-- (Opcjonalnie) linki do polityk -->
    <!-- <div class="small mt-2"><a href="/polityka-prywatnosci">Polityka prywatności</a> • <a href="/polityka-cookies">Polityka cookies</a></div> -->
  </div>

  <!-- BANER ZGÓD: LOGIKA + integracja z EmailJS -->
  <script>
  // --- Ładowanie GA tylko przy zgodzie na cookies ---
  function loadAnalytics() {
    if (window._gaLoaded) return;
    const script = document.createElement('script');
    script.src = "https://www.googletagmanager.com/gtag/js?id=G-36X685CZ6N";
    script.async = true;
    document.head.appendChild(script);

    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-36X685CZ6N');
    window._gaLoaded = true;
  }

  document.addEventListener('DOMContentLoaded', function() {
    const banner = document.getElementById('cookie-banner');
    const btnAcceptAll = document.getElementById('accept-all');
    const btnSave = document.getElementById('accept-cookies');
    const consentCookies = document.getElementById('consent-cookies');
    const consentNewsletter = document.getElementById('consent-newsletter');

    // Przywróć zgody
    const saved = localStorage.getItem('consents');
    if (saved) {
      const consents = JSON.parse(saved);
      consentCookies.checked = !!consents.cookies;
      consentNewsletter.checked = !!consents.newsletter;
      if (consents.cookies) loadAnalytics();
      banner.style.display = 'none';
    } else {
      banner.classList.add('show');
      banner.style.display = '';
    }

    // Klik: zaakceptuj wszystkie
    btnAcceptAll.addEventListener('click', function() {
      consentCookies.checked = true;
      consentNewsletter.checked = true;
      saveAndClose();
    });

    // Klik: zapisz wybór
    btnSave.addEventListener('click', function() {
      saveAndClose();
    });

    function saveAndClose() {
      const consents = {
        cookies: !!consentCookies.checked,
        newsletter: !!consentNewsletter.checked
      };

      localStorage.setItem('consents', JSON.stringify(consents));

      // zapis metadanych zgody na newsletter (audyt)
      localStorage.setItem('newsletterConsentMeta', JSON.stringify({
        consent: consents.newsletter,
        ts: new Date().toISOString(),
        source: 'cookie-banner'
      }));

      if (consents.cookies) loadAnalytics();

      banner.classList.remove('show');
      banner.style.display = 'none';
    }
  });

  
  </script>



  <!-- SEO helper (jak miałeś) -->
  <div class="seo" style="position:absolute; left:-9999px; visibility:hidden;">
    budynki drewniane, budynki gospodarcze, narzędziówki, altany, wiaty, drewniane budynki
  </div>

  <script>
    // Rok w stopce
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>






<script>
// ZWIJANIE MENU MOBILNEGO + PŁYNNY SCROLL Z OFFSETEM
document.addEventListener('DOMContentLoaded', () => {
  const navbarCollapseEl = document.getElementById('navbarNav');
  const navbarToggler    = document.querySelector('.navbar-toggler');
  if (!navbarCollapseEl || !navbarToggler) return;

  // Instancja Collapse (nie otwieraj/nie zamykaj automatycznie)
  const bsCollapse = bootstrap.Collapse.getOrCreateInstance(navbarCollapseEl, { toggle: false });

  // Linki, które mają zamykać menu (zwykłe i dropdowny)
  const actionableLinks = navbarCollapseEl.querySelectorAll('a.nav-link, .dropdown-item');

  // Funkcja: czy jesteśmy w trybie mobilnym (toggler widoczny)
  const isMobile = () => window.getComputedStyle(navbarToggler).display !== 'none';

  // Płynny scroll z offsetem dla sekcji (#id)
  const smoothScrollToHash = (hash) => {
    if (!hash || hash === '#') return false;
    const target = document.querySelector(hash);
    if (!target) return false;
    const yOffset = 0; // wysokość nagłówka (dostosuj w razie potrzeby)
    const y = target.getBoundingClientRect().top + window.scrollY + yOffset;
    window.scrollTo({ top: y, behavior: 'smooth' });
    return true;
  };

  actionableLinks.forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href') || '';

      // Jeśli klik w link do sekcji na stronie — przewiń z offsetem
      if (href.startsWith('#')) {
        e.preventDefault();
        smoothScrollToHash(href);
      }

      // Jeżeli menu jest rozwinięte i jesteśmy na mobile — zwiń
      if (isMobile() && navbarCollapseEl.classList.contains('show')) {
        bsCollapse.hide();
      }
    });
  });

  // Klik poza menu — zamknij (tylko mobile)
  document.addEventListener('click', (e) => {
    if (!isMobile()) return;
    const clickedInsideMenu = navbarCollapseEl.contains(e.target);
    const clickedToggler    = navbarToggler.contains(e.target);
    if (navbarCollapseEl.classList.contains('show') && !clickedInsideMenu && !clickedToggler) {
      bsCollapse.hide();
    }
  });

  // Zamykanie po nawigacji klawiaturą (Enter/Space na linku)
  navbarCollapseEl.addEventListener('keydown', (e) => {
    if (!isMobile()) return;
    if ((e.key === 'Enter' || e.key === ' ') && e.target.matches('a.nav-link, .dropdown-item')) {
      setTimeout(() => bsCollapse.hide(), 0);
    }
  });

  // Opcjonalnie: jeśli adres URL ma #hash po przeładowaniu — przewiń z offsetem
  if (location.hash) {
    setTimeout(() => smoothScrollToHash(location.hash), 0);
  }
});
</script>

</body>
</html>

